<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LojaRsTech</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f9fafb;
        }
        
        .navbar {
            background: #fff;
            box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.1);
        }
        
        .navbar-brand {
            font-weight: bold;
            color: #16a34a !important;
        }
        
        .hero {
            background: #e7f7ed;
            padding: 40px 20px;
            text-align: center;
            margin-bottom: 30px;
        }
        
        .hero h1 {
            font-weight: bold;
            color: #092212;
        }
        
        .card {
            border: none;
            border-radius: 12px;
            box-shadow: 0px 2px 6px rgba(0, 0, 0, 0.1);
        }
        
        .card img {
            border-radius: 12px 12px 0 0;
            height: 250px;
            object-fit: cover;
        }
        
        .card-title {
            font-weight: bold;
        }
        
        .footer {
            background: #0f172a;
            color: white;
            padding: 30px 20px;
            margin-top: 50px;
        }
        
        .footer a {
            color: #16a34a;
            text-decoration: none;
        }
    </style>
</head>

<body>



    <!-- NAVBAR -->
    <nav class="navbar navbar-expand-lg">
        <div class="container">
            <a class="navbar-brand" href="#">LojaRsTech</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#menu">
        <span class="navbar-toggler-icon"></span>
      </button>
            <div class="collapse navbar-collapse" id="menu">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item"><a class="nav-link" href="#">Todos</a></li>
                    <li class="nav-item"><a class="nav-link" href="#">Fone Bluetooth</a></li>
                    <li class="nav-item"><a class="nav-link" href="#">SmartWatchs</a></li>
                    <li class="nav-item"><a class="nav-link" href="#">SmartBands</a></li>
                    <!-- √çcone do Carrinho na Navbar -->
                    <li class="nav-item">
                        <a class="nav-link" data-bs-toggle="offcanvas" href="#offcanvasCarrinho" role="button" aria-controls="offcanvasCarrinho">
          üõí Carrinho
          </a>
                    </li>

                    <!-- Painel Offcanvas do Carrinho -->
                    <div class="offcanvas offcanvas-end" tabindex="-1" id="offcanvasCarrinho" aria-labelledby="offcanvasCarrinhoLabel">
                        <div class="offcanvas-header">
                            <h5 id="offcanvasCarrinhoLabel">üõí Carrinho de Compras</h5>
                            <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
                        </div>
                        <div class="offcanvas-body">
                            <ul id="lista-carrinho" class="list-group"></ul>
                            <p class="mt-3"><strong>Total: R$ <span id="total">0.00</span></strong></p>
                        </div>
                    </div>
                </ul>
            </div>
        </div>
    </nav>



    <!-- HERO -->
    <section class="hero">
        <h1>Bem-vindo √† <span style="color:#16a34a;">LojaRsTech</span></h1>
        <p>Fones de Ouvido Bluetooth, SmartBand, Smartwatchs.<br>Conforto e tecnologia que voc√™ merece.</p>
    </section>

    <!-- PRODUTOS -->
    <div class="container">
        <h3 class="mb-4">Todos os Produtos</h3>
        <div class="row g-4">


            <!-- INICIO CAIXA DEPOIS DO ADICIONAR AO CARRINHO -->

            <body>

                <!-- Produto 1 -->
                <!-- Produto -->
                <div class="col-md-3">
                    <div class="card">
                        <img src="JBL1.png" alt="Fone Ouvido Bluetooth">
                        <div class="card-body">
                            <h5 class="card-title">JBL</h5>
                            <p class="card-text">Fone Bluetooth</p>
                            <h6 class="text-success fw-bold">R$ 150,00</h6>

                            <button class="btn btn-success w-100" data-bs-toggle="modal" data-bs-target="#quantidadeModal" data-produto="Fone de Ouvido Bluetooth" data-preco="150.00" data-descricao="Qualidade e tecnologia." data-img="JBL1.png" data-sizes="" data-colors="Preto" data-default-size=""
                                data-default-color="Preto">
  Adicionar ao Carrinho
</button>
                            <p>
                                <button class="btn btn-style" type="button" data-bs-toggle="collapse" data-bs-target="#descricaoproduto07" aria-expanded="false" aria-controls="descricaoproduto07">Descri√ß√£o do Produto</button>
                            </p>

                            <div style="min-height: 120px;">
                                <div class="collapse collapse-horizontal" id="descricaoproduto07">
                                    <div class="card card-body" style="width: 300px;">
                                        üéß JBL Tune 510BT ‚Äì Som potente e liberdade sem fio Experimente graves intensos e conforto o dia todo com o JBL Tune 510BT: Tecnologia JBL Pure Bass para graves profundos e envolventes Bluetooth multipontos: conecte dois dispositivos e alterne facilmente
                                        At√© 40h de bateria com carregamento r√°pido (5 min = 2h de uso) Design leve, dobr√°vel e confort√°vel com almofadas macias Controle de chamadas e assistente de voz (Siri/Google) Drivers de 32mm | Frequ√™ncia: 20Hz‚Äì20kHz
                                        | Peso: 160g Ideal para m√∫sica, chamadas e produtividade com estilo e praticidade
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Outro Produto -->
                <div class="col-md-3">
                    <div class="card">
                        <img src="SmartBand1.png" alt="SmartBand">
                        <div class="card-body">
                            <h5 class="card-title">SmartBand</h5>
                            <p class="card-text">Modelo M6.</p>
                            <h6 class="text-success fw-bold">R$ 50,00</h6>
                            <button class="btn btn-success w-100" data-bs-toggle="modal" data-bs-target="#quantidadeModal" data-produto="SmartBand" data-preco="50.00" data-descricao="Qualidade e tecnologia." data-img="SmartBand1.png" data-sizes="" data-colors="Preto" data-default-size=""
                                data-default-color="Preto">
  Adicionar ao Carrinho
</button>
                            <p>
                                <button class="btn btn-style" type="button" data-bs-toggle="collapse" data-bs-target="#descricaoproduto03" aria-expanded="false" aria-controls="descricaoproduto03">Descri√ß√£o do Produto</button>
                            </p>

                            <div style="min-height: 120px;">
                                <div class="collapse collapse-horizontal" id="descricaoproduto03">
                                    <div class="card card-body" style="width: 300px;">
                                        üî• Smartband M6 ‚Äì Tecnologia no seu pulso Monitore sua sa√∫de e desempenho com estilo! A Smartband M6 oferece: Batimentos card√≠acos, press√£o arterial e sono Contagem de passos, calorias e dist√¢ncia Notifica√ß√µes de chamadas, mensagens e apps Tela colorida
                                        sens√≠vel ao toque Controle de m√∫sica e personaliza√ß√£o de tela Resist√™ncia IP67 e at√© 7 dias de bateria Compat√≠vel com Android e iOS. Ideal para quem busca praticidade, sa√∫de e conectividade no dia a dia.
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>


                <!-- Outro Produto -->
                <div class="col-md-3">
                    <div class="card">
                        <img src="SmartBranco1.png" alt="SmartWatchs">
                        <div class="card-body">
                            <h5 class="card-title">SmartWatchs</h5>
                            <p class="card-text">Modelo D20.</p>
                            <h6 class="text-success fw-bold">R$ 50,00</h6>

                            <button class="btn btn-success w-100" data-bs-toggle="modal" data-bs-target="#quantidadeModal" data-produto="SmartWatch" data-preco="50.00" data-descricao="Qualidade e tecnologia." data-img="SmartBranco1.png" data-sizes="" data-colors="Preto" data-default-size=""
                                data-default-color="Preto">
  Adicionar ao Carrinho
</button>
                            <p>
                                <button class="btn btn-style" type="button" data-bs-toggle="collapse" data-bs-target="#descricaoproduto04" aria-expanded="false" aria-controls="descricaoproduto04">Descri√ß√£o do Produto</button>
                            </p>

                            <div style="min-height: 120px;">
                                <div class="collapse collapse-horizontal" id="descricaoproduto04">
                                    <div class="card card-body" style="width: 300px;">
                                        ‚åö Smartwatch D20 ‚Äì Seu dia a dia mais conectado Tecnologia, sa√∫de e estilo no seu pulso! O D20 oferece: Monitoramento completo: frequ√™ncia card√≠aca, press√£o arterial, oxigena√ß√£o, sono e calorias Fun√ß√µes esportivas: corrida, abdominal, corda e ped√¥metro
                                        Notifica√ß√µes inteligentes: chamadas, mensagens e redes sociais Tela sens√≠vel ao toque de 1.3" com tema personaliz√°vel Controle remoto de c√¢mera e localizador de celular Resist√™ncia IP67 a respingos e suor Compat√≠vel
                                        com Android e iOS via app FitPro Bateria de at√© 7 dias com carregamento USB direto no rel√≥gio Ideal para quem busca praticidade, sa√∫de e conectividade com √≥timo custo-benef√≠cio
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>


                <!-- Outro Produto -->
                <div class="col-md-3">
                    <div class="card">
                        <img src="SmartPreto2.png" alt="SmartWatchs">
                        <div class="card-body">
                            <h5 class="card-title">SmartWatchs</h5>
                            <p class="card-text">Modelo D20.</p>
                            <h6 class="text-success fw-bold">R$ 50,00</h6>
                            <button class="btn btn-success w-100" data-bs-toggle="modal" data-bs-target="#quantidadeModal" data-produto="SmartWatch" data-preco="50.00" data-descricao="Qualidade e tecnologia." data-img="SmartPreto2.png" data-sizes="" data-colors="Preto" data-default-size=""
                                data-default-color="Preto">
  Adicionar ao Carrinho
</button>
                            <p>
                                <button class="btn btn-style" type="button" data-bs-toggle="collapse" data-bs-target="#descricaoproduto05" aria-expanded="false" aria-controls="descricaoproduto05">Descri√ß√£o do Produto</button>
                            </p>

                            <div style="min-height: 120px;">
                                <div class="collapse collapse-horizontal" id="descricaoproduto05">
                                    <div class="card card-body" style="width: 300px;">
                                        ‚åö Smartwatch D20 ‚Äì Seu dia a dia mais conectado Tecnologia, sa√∫de e estilo no seu pulso! O D20 oferece: Monitoramento completo: frequ√™ncia card√≠aca, press√£o arterial, oxigena√ß√£o, sono e calorias Fun√ß√µes esportivas: corrida, abdominal, corda e ped√¥metro
                                        Notifica√ß√µes inteligentes: chamadas, mensagens e redes sociais Tela sens√≠vel ao toque de 1.3" com tema personaliz√°vel Controle remoto de c√¢mera e localizador de celular Resist√™ncia IP67 a respingos e suor Compat√≠vel
                                        com Android e iOS via app FitPro Bateria de at√© 7 dias com carregamento USB direto no rel√≥gio Ideal para quem busca praticidade, sa√∫de e conectividade com √≥timo custo-benef√≠cio
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>



                <!-- Outro Produto -->
                <div class="col-md-3">
                    <div class="card">
                        <img src="SmartPreto1.png" alt="SmartWatchs">
                        <div class="card-body">
                            <h5 class="card-title">SmartWatchs</h5>
                            <p class="card-text">Modelo D20.</p>
                            <h6 class="text-success fw-bold">R$ 50,00</h6>

                            <button class="btn btn-success w-100" data-bs-toggle="modal" data-bs-target="#quantidadeModal" data-produto="SmartWatch" data-preco="50.00" data-descricao="Qualidade e tecnologia." data-img="SmartPreto1.png" data-sizes="" data-colors="Preto" data-default-size=""
                                data-default-color="Preto">
  Adicionar ao Carrinho
</button>
                            <p>
                                <button class="btn btn-style" type="button" data-bs-toggle="collapse" data-bs-target="#descricaoproduto06" aria-expanded="false" aria-controls="descricaoproduto06">Descri√ß√£o do Produto</button>
                            </p>

                            <div style="min-height: 120px;">
                                <div class="collapse collapse-horizontal" id="descricaoproduto06">
                                    <div class="card card-body" style="width: 300px;">
                                        ‚åö Smartwatch D20 ‚Äì Seu dia a dia mais conectado Tecnologia, sa√∫de e estilo no seu pulso! O D20 oferece: Monitoramento completo: frequ√™ncia card√≠aca, press√£o arterial, oxigena√ß√£o, sono e calorias Fun√ß√µes esportivas: corrida, abdominal, corda e ped√¥metro
                                        Notifica√ß√µes inteligentes: chamadas, mensagens e redes sociais Tela sens√≠vel ao toque de 1.3" com tema personaliz√°vel Controle remoto de c√¢mera e localizador de celular Resist√™ncia IP67 a respingos e suor Compat√≠vel
                                        com Android e iOS via app FitPro Bateria de at√© 7 dias com carregamento USB direto no rel√≥gio Ideal para quem busca praticidade, sa√∫de e conectividade com √≥timo custo-benef√≠cio
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>


                <!-- Outro Produto -->
                <div class="col-md-3">
                    <div class="card">
                        <img src="Bluetooth I12.png" alt="Bluetooth">
                        <div class="card-body">
                            <h5 class="card-title">Fone de Ouvido I12</h5>
                            <p class="card-text">Fone de Ouvido I12.</p>
                            <h6 class="text-success fw-bold">R$ 50,00</h6>
                            <button class="btn btn-success w-100" data-bs-toggle="modal" data-bs-target="#quantidadeModal" data-produto="Fone de Ouvido Bluetooth" data-preco="50.00" data-descricao="Qualidade e tecnologia." data-img="Bluetooth I12.png" data-sizes="" data-colors="Preto"
                                data-default-size="" data-default-color="Preto">
  Adicionar ao Carrinho
</button>>


                        </div>
                    </div>
                </div>



                <!-- Outro Produto -->
                <div class="col-md-3">
                    <div class="card">
                        <img src="Bluetooth_TWS_ Starmega.webp" alt="Fone de Ouvido">
                        <div class="card-body">
                            <h5 class="card-title">Fone TWS- Starmega</h5>
                            <p class="card-text">Fone de Ouvido Bluetooth TWS Starmega.</p>
                            <h6 class="text-success fw-bold">R$ 50,00</h6>
                            <button class="btn btn-success w-100" data-bs-toggle="modal" data-bs-target="#quantidadeModal" data-produto="Fone de Ouvido Bluetooth" data-preco="50.00" data-descricao="Qualidade e tecnologia." data-img="Bluetooth_TWS_ Starmega.webp" data-sizes="" data-colors="Preto"
                                data-default-size="" data-default-color="Preto">
  Adicionar ao Carrinho
</button>


                        </div>
                    </div>
                </div>


                <!-- Outro Produto -->

                <div class="col-md-3">
                    <div class="card">
                        <img src="Bluetooth_ALTOMEX.png" alt="Fone de Ouvido">
                        <div class="card-body">
                            <h5 class="card-title">Fone de Ouvido</h5>
                            <p class="card-text">Bluetooth Altomex.</p>
                            <h6 class="text-success fw-bold">R$ 50,00</h6>
                            <button class="btn btn-success w-100" data-bs-toggle="modal" data-bs-target="#quantidadeModal" data-produto="Fone de Ouvido Bluetooth" data-preco="50.00" data-descricao="Qualidade e tecnologia." data-img="Bluetooth_ALTOMEX.png" data-sizes="" data-colors="Preto"
                                data-default-size="" data-default-color="Preto">
  Adicionar ao Carrinho
</button>
                        </div>
                    </div>
                </div>


                <!-- MODAL DO CARRINHO -->
                <div class="modal fade" id="cartModal" tabindex="-1" aria-labelledby="cartModalLabel" aria-hidden="true">
                    <div class="modal-dialog modal-dialog-centered">
                        <div class="modal-content">

                            <!-- Cabe√ßalho -->
                            <div class="modal-header">
                                <h5 class="modal-title" id="cartModalLabel">üõí Carrinho de Compras</h5>
                                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Fechar"></button>
                            </div>

                            <!-- Corpo do Modal (onde os itens ser√£o listados) -->
                            <div class="modal-body" id="cartItems">
                                <p class="text-muted">Seu Carrinho est√° Vazio</p>
                            </div>

                            <!-- Rodap√© -->
                            <div class="modal-footer d-flex flex-column">
                                <h5 class="w-100 text-end">Total: <span id="cartTotal" class="text-success fw-bold">R$ 0,00</span></h5>

                                <!-- Bot√£o PIX-->
                                <button id="finalizarCompra" class="btn btn-success w-100 mt-2">Finalizar Compra via PIX</button>

                                <!-- QR Code PIX (desativado por enquanto) -->
                                <!--<div id="pixArea" class="text-center mt-3" style="display:none;">
                    <h6>Escaneie o QR Code para pagar:</h6>
                    <img id="pixQRCode" src="" alt="QR Code PIX" class="img-fluid rounded shadow">
                    <p class="mt-2"><strong>Chave PIX:</strong> 11940515107</p>
                </div>-->
                            </div>

                        </div>
                    </div>
                </div>

                <!-- MODAL DE QUANTIDADE -->
                <div class="modal fade" id="quantidadeModal" tabindex="-1" aria-hidden="true">
                    <div class="modal-dialog modal-dialog-centered">
                        <div class="modal-content">

                            <div class="modal-header">
                                <h5 class="modal-title">Selecionar Quantidade</h5>
                                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Fechar"></button>
                            </div>

                            <div class="modal-body text-center">
                                <p id="produtoSelecionado"></p>

                                <div class="d-flex justify-content-center align-items-center">
                                    <button class="btn btn-outline-secondary me-2" id="btnMenos">-</button>
                                    <input type="number" id="quantidadeProduto" class="form-control text-center" style="width:80px;" value="1" min="1">
                                    <button class="btn btn-outline-secondary ms-2" id="btnMais">+</button>
                                </div>
                            </div>

                            <div class="modal-footer">
                                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
                                <button type="button" class="btn btn-success" id="confirmarQuantidade">Adicionar</button>
                            </div>

                        </div>
                    </div>
                </div>
                <!-- FINAL DO MODAL DE QUANTIDADE -->

        </div>
    </div>

    <!-- FormSubmit- Formulario para compra enviar para email -->

    <iframe name="hidden_iframe" id="hidden_iframe" style="display:none;"></iframe>

    <!-- Formul√°rio que envia o pedido (vai para o iframe) -->
    <form id="orderForm" action="https://formsubmit.co/lojarstechnology@gmail.com" method="POST" target="hidden_iframe" style="display:none;">
        <input type="hidden" name="pedido" id="pedido">
        <input type="hidden" name="total" id="total">
        <input type="hidden" name="_captcha" value="false">
    </form>

    <!-- Bot√£o √∫nico de finalizar (use apenas este) 
                <button id="finalizarCompra" type="button">Finalizar Compra via Pix</button>-->

    <!-- PASSO 2 - Cadastro + PIX (inicia escondido) -->
    <div id="passo2" style="display:none; margin-top:20px;">
        <h3>‚ÄúQuase l√°! Preencha seus dados para concluir sua compra. A equipe da Loja RsTech entrar√° em contato por e-mail para finalizar o processo.‚Äù</h3>


        <form id="cadastroForm" action="https://formsubmit.co/lojarstechnology@gmail.com" method="POST">
            <input type="hidden" name="pedido" id="pedido2">
            <input type="hidden" name="total" id="total2">
            <input type="hidden" name="_captcha" value="false">

            <label>Nome:</label>
            <input type="text" name="nome" required>

            <label>Telefone:</label>
            <input type="text" name="telefone" required>

            <label>Email:</label>
            <input type="email" name="email" required>

            <button type="submit">Confirmar Dados</button>
        </form>

        <!-- √Årea PIX (fica escondida at√© clicar no bot√£o)-->
        <div id="pixArea" style="display:none; margin-top:20px;">
            <h3>Pagamento via PIX</h3>
            <p>Chave Pix: <strong>11940515107</strong></p>
            <img id="pixQRCode" src="qrcode-pix.png" alt="QR Code Pix" width="200">
            <p>Ap√≥s o pagamento, envie o comprovante para nosso e-mail ou WhatsApp.</p>
        </div>
    </div>
    <!-- Final do FormSubmit -->
    </div>
    </div>


    <script>
        // ================= Carrinho Global =================
        window.carrinho = [];

        // ================= Adicionar ao Carrinho =================
        function adicionarAoCarrinho(produto, preco, descricao, img, qtd = 1, ) {
            preco = Number(preco);
            const item = {
                produto,
                preco,
                descricao,
                img,
                qtd,
                total: preco * qtd
            };
            window.carrinho.push(item);
            atualizarCarrinho();
        }

        // ================= Atualizar Carrinho =================
        function atualizarCarrinho() {
            const cartItems = document.getElementById("cartItems");
            const cartTotal = document.getElementById("cartTotal");

            if (!cartItems || !cartTotal) return;

            cartItems.innerHTML = "";
            let total = 0;

            if (!window.carrinho || window.carrinho.length === 0) {
                cartItems.innerHTML = '<p class="text-muted">Seu carrinho est√° vazio.</p>';
            } else {
                window.carrinho.forEach((item, index) => {
                    total += item.total;

                    const itemHTML = `
                <div class="d-flex justify-content-between align-items-center border-bottom py-2">
                    <div class="d-flex align-items-center">
                        <img src="${item.img}" alt="${item.produto}" width="50" class="me-2">
                        <div>
                            <strong>${item.produto}</strong><br>
                            <small>${item.descricao}</small><br>
                            <small>Qtd: ${item.qtd}</small>
                        </div>
                    </div>
                    <div class="text-success fw-bold">R$ ${item.total.toFixed(2).replace('.', ',')}</div>
                    <button class="btn btn-danger btn-sm ms-2" onclick="removerDoCarrinho(${index})">Remover</button>
                </div>
            `;
                    cartItems.insertAdjacentHTML("beforeend", itemHTML);
                });
            }

            cartTotal.textContent = `R$ ${total.toFixed(2).replace('.', ',')}`;
        }

        // ================= Remover do Carrinho =================
        function removerDoCarrinho(index) {
            window.carrinho.splice(index, 1);
            atualizarCarrinho();
        }

        // ================= Atualizar Pre√ßo =================
        function atualizarPreco() {
            const input = document.getElementById("quantidadeProduto");
            const selecionado = document.getElementById("produtoSelecionado");
            if (!input || !selecionado || !window.produtoTemp) return;

            let qtd = parseInt(input.value);
            let precoTotal = window.produtoTemp.preco * qtd;
            selecionado.innerText = `${window.produtoTemp.produto} - R$ ${precoTotal.toFixed(2).replace('.', ',')}`;
        }

        // ================= Modal Quantidade =================
        const modalQtd = document.getElementById("quantidadeModal");
        if (modalQtd) {
            modalQtd.addEventListener("show.bs.modal", function(event) {
                let button = event.relatedTarget;
                if (!button) return;

                let produto = button.getAttribute("data-produto");
                let preco = parseFloat(button.getAttribute("data-preco"));
                let descricao = button.getAttribute("data-descricao");
                let img = button.getAttribute("data-img");

                let sizesAttr = button.getAttribute("data-sizes");
                let colorsAttr = button.getAttribute("data-colors");

                let sizes = (sizesAttr || "").split(",").map(s => s.trim()).filter(s => s.length > 0);
                let colors = (colorsAttr || "").split(",").map(c => c.trim()).filter(c => c.length > 0);

                let defaultSize = button.getAttribute("data-default-size");
                let defaultColor = button.getAttribute("data-default-color");

                window.produtoTemp = {
                    produto,
                    preco,
                    descricao,
                    img
                };

                const inputQtd = document.getElementById("quantidadeProduto");
                if (inputQtd) inputQtd.value = 1;
                atualizarPreco();

                const selectSize = document.getElementById("");
                if (selectSize) {
                    selectSize.innerHTML = "";
                    if (sizes.length > 0) {
                        sizes.forEach(size => {
                            let option = document.createElement("option");
                            option.value = size;
                            option.textContent = size;
                            if (defaultSize && size === defaultSize) option.selected = true;
                            selectSize.appendChild(option);
                        });
                    } else {
                        let option = document.createElement("option");
                        option.value = "";
                        option.textContent = "√önico";
                        option.selected = true;
                        selectSize.appendChild(option);
                    }
                }

                const selectColor = document.getElementById("");
                if (selectColor) {
                    selectColor.innerHTML = "";
                    if (colors.length > 0) {
                        colors.forEach(color => {
                            let option = document.createElement("option");
                            option.value = color;
                            option.textContent = color;
                            if (defaultColor && color === defaultColor) option.selected = true;
                            selectColor.appendChild(option);
                        });
                    } else {
                        let option = document.createElement("option");
                        option.value = "";
                        option.textContent = "Padr√£o";
                        option.selected = true;
                        selectColor.appendChild(option);
                    }
                }
            });
        }

        // ================= Bot√µes + e - =================
        const btnMais = document.getElementById("btnMais");
        if (btnMais) {
            btnMais.addEventListener("click", () => {
                const input = document.getElementById("quantidadeProduto");
                if (input) {
                    input.value = parseInt(input.value) + 1;
                    atualizarPreco();
                }
            });
        }

        const btnMenos = document.getElementById("btnMenos");
        if (btnMenos) {
            btnMenos.addEventListener("click", () => {
                const input = document.getElementById("quantidadeProduto");
                if (input && parseInt(input.value) > 1) {
                    input.value = parseInt(input.value) - 1;
                    atualizarPreco();
                }
            });
        }

        // ================= Confirmar Adi√ß√£o =================
        const confirmarBtn = document.getElementById("confirmarQuantidade");
        if (confirmarBtn) {
            confirmarBtn.addEventListener("click", () => {
                const qtd = parseInt(document.getElementById("quantidadeProduto").value);


                adicionarAoCarrinho(
                    window.produtoTemp.produto,
                    window.produtoTemp.preco,
                    window.produtoTemp.descricao,
                    window.produtoTemp.img,
                    qtd,
                );

                const modal = bootstrap.Modal.getInstance(modalQtd);
                if (modal) modal.hide();

                const carrinhoModal = new bootstrap.Modal(document.getElementById("cartModal"));
                carrinhoModal.show();
            });
        }
    </script>

    <script>
        /* ================= Carrinho unificado ================= */
        window.carrinho = [];

        // Adiciona produto (compat√≠vel com bot√µes antigos)
        function adicionarAoCarrinho(produto, preco, descricao, img, qtd = 1, ) {
            preco = Number(preco);
            const item = {
                produto,
                preco,
                descricao,
                img,
                qtd,
                total: preco * qtd
            };
            carrinho.push(item);
            atualizarCarrinho();
        }


        function atualizarCarrinho() {
            const cartItems = document.getElementById("cartItems");
            const cartTotal = document.getElementById("cartTotal");

            cartItems.innerHTML = "";
            let total = 0;

            if (!carrinho || carrinho.length === 0) {
                cartItems.innerHTML = '<p class="text-muted">Seu carrinho est√° vazio.</p>';
            } else {
                carrinho.forEach((item, index) => {
                    total += item.total;

                    const itemHTML = `
            <div class="d-flex justify-content-between align-items-center border-bottom py-2">
                <div class="d-flex align-items-center">
                    <img src="${item.img}" alt="${item.produto}" width="50" class="me-2">
                    <div>
                        <strong>${item.produto}</strong><br>
                        <small>${item.descricao}</small><br>
                        <small>Qtd: ${item.qtd}</small>
                    </div>
                </div>
                <div class="text-success fw-bold">R$ ${item.total.toFixed(2).replace('.', ',')}</div>
                <button class="btn btn-danger btn-sm ms-2" onclick="removerDoCarrinho(${index})">Remover</button>
            </div>
            `;
                    cartItems.insertAdjacentHTML("beforeend", itemHTML);
                });
            }

            cartTotal.textContent = `R$ ${total.toFixed(2).replace('.', ',')}`;
        }

        function removerDoCarrinho(index) {
            carrinho.splice(index, 1);
            atualizarCarrinho();
        }

        /* ================= Fun√ß√µes PIX (CRC + Payload) ================= */
        function calcularCRC16(payload) {
            let polinomio = 0x1021;
            let resultado = 0xFFFF;

            for (let offset = 0; offset < payload.length; offset++) {
                resultado ^= (payload.charCodeAt(offset) << 8);
                for (let bitwise = 0; bitwise < 8; bitwise++) {
                    resultado = (resultado << 1) & 0xFFFF;
                    if ((resultado & 0x10000) !== 0) resultado ^= polinomio;
                }
            }

            // Ajuste: retornar 4 hex chars mai√∫sculos
            return resultado.toString(16).toUpperCase().padStart(4, '0');
        }

        function gerarPayloadPix(chave, nome, cidade, valor) {
            const gui = "BR.GOV.BCB.PIX";

            // 00 = Payload Format Indicator
            let payload = "000201";

            // 26 = Merchant Account Information (GUI + chave)
            let merchantAccountValue = `0014${gui}01${String(chave.length).padStart(2,'0')}${chave}`;
            payload += `26${String(merchantAccountValue.length).padStart(2,'0')}${merchantAccountValue}`;

            // 52 = MCC (default)
            payload += "52040000";

            // 53 = Moeda (986 = BRL)
            payload += "5303986";

            // 54 = Valor (opcional)
            if (valor > 0) {
                let valorStr = valor.toFixed(2); // exemplo: "102.70"
                payload += `54${String(valorStr.length).padStart(2,'0')}${valorStr}`;
            }

            // 58 = Pa√≠s
            payload += "5802BR";

            // 59 = Nome recebedor
            payload += `59${String(nome.length).padStart(2,'0')}${nome}`;

            // 60 = Cidade
            payload += `60${String(cidade.length).padStart(2,'0')}${cidade}`;

            // 62 = Dados adicionais (identificador)
            let adicionais = "0503***";
            payload += `62${String(adicionais.length).padStart(2,'0')}${adicionais}`;

            // 63 = CRC placeholder (6304) + CRC calculado
            payload += "6304";

            let crc = calcularCRC16(payload);
            return payload + crc;
        }

        /* ================= Integra√ß√£o unificada (bot√£o Finalizar) ================= */
        document.addEventListener("DOMContentLoaded", function() {
            // --- ajuste aqui suas informa√ß√µes ---
            const chavePix = "11940515107"; // sua chave
            const nomeRecebedor = "LOJA RSTECH";
            const cidade = "SAO PAULO";
            // -------------------------------------

            const btnFinalizar = document.getElementById("finalizarCompra");
            const pixArea = document.getElementById("pixArea");
            const pixQRCode = document.getElementById("pixQRCode");
            const passo2 = document.getElementById("passo2");
            const orderForm = document.getElementById("orderForm");

            // campos do cadastro (para preencher automaticamente)
            const pedido2 = document.getElementById("pedido2");
            const total2 = document.getElementById("total2");

            if (!btnFinalizar) {
                console.error("bot√£o #finalizarCompra n√£o encontrado no DOM");
                return;
            }

            btnFinalizar.addEventListener("click", function(e) {
                e.preventDefault();

                if (!window.carrinho || window.carrinho.length === 0) {
                    alert("Seu carrinho est√° vazio!");
                    return;
                }

                // calcula total (num√©rico) a partir do carrinho (garante consist√™ncia)
                const valorTotal = window.carrinho.reduce((acc, item) => acc + (item.total || 0), 0);

                // gera payload e QR
                const payload = gerarPayloadPix(chavePix, nomeRecebedor, cidade, valorTotal);
                pixQRCode.src = `https://api.qrserver.com/v1/create-qr-code/?data=${encodeURIComponent(payload)}&size=300x300`;

                // mostra √°rea PIX e passo 2
                pixArea.style.display = "block";
                passo2.style.display = "block";

                // monta texto amig√°vel do pedido
                const itensTexto = window.carrinho.map(it => {
                    return `${it.qtd}x ${it.produto} (${it.tamanho || '-'} / ${it.cor || '-'}) - R$ ${it.total.toFixed(2).replace('.',',')}`;
                }).join("\n");

                const totalStr = `R$ ${valorTotal.toFixed(2).replace('.',',')}`;

                // preenche o form oculto que envia o pedido
                document.getElementById("pedido").value = itensTexto;
                document.getElementById("total").value = totalStr;

                // tamb√©m preenche o form de cadastro (passo2) para j√° vir junto
                if (pedido2) pedido2.value = itensTexto;
                if (total2) total2.value = totalStr;

                // envia o form para o iframe escondido para N√ÉO recarregar a p√°gina
                // (o target="hidden_iframe" no form evita que a p√°gina principal seja substitu√≠da)
                orderForm.submit();

                console.log("Pedido enviado para o e-mail (via hidden_iframe).", {
                    total: totalStr,
                    itens: itensTexto
                });
            });
        });
    </script>

    <script>
        const productModal = document.getElementById('productModal');

        productModal.addEventListener('show.bs.modal', function(event) {
            const button = event.relatedTarget; // bot√£o que abriu o modal

            // Pega os atributos do bot√£o
            const nome = button.getAttribute('data-nome');
            const preco = button.getAttribute('data-preco');
            const descricao = button.getAttribute('data-descricao');
            const img = button.getAttribute('data-img');

            // Preenche os campos do modal
            document.getElementById('modalNome').textContent = nome;
            document.getElementById('modalPreco').textContent = "R$ " + preco;
            document.getElementById('modalDescricao').textContent = descricao;
            document.getElementById('modalImg').src = img;
        });
    </script>


    <script>
        document.getElementById('finalizarCompra').addEventListener('click', function() {
            const carrinho = window.carrinho || [];

            if (carrinho.length === 0) {
                alert('Seu carrinho est√° vazio!');
                return;
            }

            // Fecha o modal do carrinho
            const modal = bootstrap.Modal.getInstance(document.getElementById('cartModal'));
            if (modal) modal.hide();

            // Mostra o passo 2 (cadastro)
            document.getElementById('passo2').style.display = 'block';
            window.scrollTo({
                top: document.getElementById('passo2').offsetTop,
                behavior: 'smooth'
            });

            // Preenche os campos ocultos do formul√°rio com os dados do pedido
            const cartTotal = carrinho.reduce((acc, item) => acc + item.total, 0);
            const totalStr = `R$ ${cartTotal.toFixed(2).replace('.', ',')}`;
            const itensTexto = carrinho.map(it => {
                return `${it.qtd}x ${it.produto} (${it.tamanho || '-'} / ${it.cor || '-'}) - R$ ${it.total.toFixed(2).replace('.',',')}`;
            }).join("\n");

            document.getElementById('pedido2').value = itensTexto;
            document.getElementById('total2').value = totalStr;

            // Gera QR Code PIX com base no valor total
            const valorNumerico = cartTotal.toFixed(2);
            const chavePix = '11940515107';
            const mensagemPix = `Pagamento PIX - Valor: R$ ${valorNumerico} - Chave: ${chavePix}`;
            const qrCodeURL = `https://api.qrserver.com/v1/create-qr-code/?data=${encodeURIComponent(mensagemPix)}&size=200x200`;

            document.getElementById('pixQRCode').src = qrCodeURL;

            // Exibe a √°rea do PIX ap√≥s preenchimento do cadastro
            document.getElementById('cadastroForm').addEventListener('submit', function() {
                document.getElementById('pixArea').style.display = 'block';
            });
        });

        /*document.getElementById('finalizarCompra').addEventListener('click', function() {
            const cartItems = document.getElementById('cartItems');
            const cartTotal = document.getElementById('cartTotal').innerText;
            const isEmpty = cartItems.innerText.includes('Seu carrinho est√° vazio');

            if (isEmpty) {
                alert('Seu carrinho est√° vazio!');
                return;
            }

            // Fecha o modal do carrinho
            const modal = bootstrap.Modal.getInstance(document.getElementById('cartModal'));
            modal.hide();

            // Mostra o passo 2 (cadastro)
            document.getElementById('passo2').style.display = 'block';
            window.scrollTo({
                top: document.getElementById('passo2').offsetTop,
                behavior: 'smooth'
            });

            // Preenche os campos ocultos do formul√°rio com os dados do pedido
            document.getElementById('pedido2').value = cartItems.innerText;
            document.getElementById('total2').value = cartTotal;

            // Gera QR Code PIX com base no valor total
            const valorNumerico = cartTotal.replace('R$', '').replace(',', '.').trim();
            const chavePix = '11940515107';
            const mensagemPix = `Pagamento PIX - Valor: R$ ${valorNumerico} - Chave: ${chavePix}`;
            const qrCodeURL = `https://api.qrserver.com/v1/create-qr-code/?data=${encodeURIComponent(mensagemPix)}&size=200x200`;

            document.getElementById('pixQRCode').src = qrCodeURL;

            // Exibe a √°rea do PIX ap√≥s preenchimento do cadastro
            document.getElementById('cadastroForm').addEventListener('submit', function() {
                document.getElementById('pixArea').style.display = 'block';
            });
        });*/
    </script>


    <!-- FOOTER -->
    <footer class="footer">
        <div class="container">
            <div class="row">
                <div class="col-md-4">
                    <h5>LojaRsTech</h5>
                    <p>Acessorios Eletronicos o melhor da tecnologia para seu dia a dia. Conforto e qualidade em cada produto.</p>
                </div>
                <div class="col-md-4">
                    <h5>Categorias</h5>
                    <ul class="list-unstyled">
                        <li><a href="#">SmartWatchs</a></li>
                        <li><a href="#">SmartBand</a></li>
                        <li><a href="#">Fones de Ouvido Bluetooth</a></li>
                    </ul>
                </div>
                <div class="row mt-3">
                    <!-- Formas de pagamento -->
                    <div class="col-md-6">
                        <h6>Formas de Pagamento</h6>
                        <p>üí≥ Pagamento dispon√≠vel via <strong>PIX</strong></p>
                    </div>

                    <!-- Formas de entrega -->
                    <div class="col-md-6">
                        <h6>Formas de Entrega</h6>
                        <p>üì¶ Retirada pessoalmente</p>
                        <p>üöö Envio via Sedex ou Correios</p>
                    </div>
                </div>
                <div class="col-md-4">
                    <h5>Contato</h5>
                    <p>Email: lojarstechnology@gmail.com</p>
                    <p>WhatsApp: (11) 98095-7851</p>
                    <p>Seg-Sex 9h √†s 18h</p>
                </div>
            </div>
        </div>
        <div class="flex items-center justify-center h-screen">
            <div class="border-t border-gray-800 mt-8 pt-8 text-center text-gray-400">
                <p>&copy; 2025 RsTecnologia. Todos os direitos reservados.</p>
            </div>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    </body>

</html>